# SPDX-FileCopyrightText: Hanspeter Portner <dev@open-music-kontrollers.ch>
# SPDX-License-Identifier: CC0-1.0

image: alpine/latest
packages:
  - reuse
  - meson
  - lv2-dev
  - lilv-dev
  - curl-dev
  - elfutils-dev
  - libx11-dev
  - linux-headers
tasks:
  - setup: |
      cd lv2lint
      meson setup build -Delf-tests=enabled -Donline-tests=enabled -Dx11-tests=enabled
  - build: |
      cd lv2lint
      ninja -C build
  - test: |
      cd lv2lint
      ninja -C build test
